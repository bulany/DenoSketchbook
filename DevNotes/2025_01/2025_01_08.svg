<svg xmlns="http://www.w3.org/2000/svg">

  <defs>
    <g id="flag">
      <rect x="0" y="50%" width="100%" height="50%" class="earth"/>
      <rect x="0" y="0" width="100%" height="50%" class="sky"/>
      <circle cx="50%" cy="50%" r="20%" class="sun"/>
    </g>

    <clipPath id="clipRect">
        <rect x="25%" y="25%" width="50%" height="50%" transform-origin="50% 50%" transform="rotate(45)">
          <animateTransform 
            attributeName="transform"
            attributeType="XML"
            type="rotate"
            from="0"
            to="360"
            dur="3s"
            repeatCount="indefinite"
          />
        </rect>
    </clipPath>
  </defs>

  <style>
    .sky { fill: var(--sky, black); }
    .earth { fill: var(--earth, red); }
    .sun { fill: var(--sun, yellow); }
  </style>

  <use href="#flag" clip-path="url(#clipRect)"/>
  

</svg>